var methods={addDropCaps:function(){var e,t,n,d;if((e=document.getElementsByClassName("dropCap"))[0])for(var a=0;a<e.length;a++)t=(d=e[a]).innerHTML.substr(0,1),n=d.innerHTML.substr(1),d.innerHTML="<span class='dropcapCharacter'>"+t+"</span>"+n},focusAllTheThings:function(){var e=this.getAttribute("href").substr(1);document.getElementById(e).focus()},yellowFlash:function(){for(var e=methods.countTheSlides(),t=0;t<e;t++){var n=document.getElementById("slide"+(t+1)),d=n.getElementsByTagName("p")[0];d&&(d="figure"!==d.parentNode.className?n.getElementsByTagName("p")[0]:n.getElementsByTagName("p")[1]).classList.add("TheFirst")}},figureModalHandler:function(){var e=this.parentNode.parentNode,t=this.parentNode,n=this,d=n.className;"figure-button-is-closed"===d&&(e.className="modal-dialog-is-open",t.className="figure-is-open",n.className="figure-button-is-open"),"figure-button-is-open"===d&&(e.className="modal-dialog-is-closed",t.className="figure-is-closed",n.className="figure-button-is-closed")},figureButtonInsertion:function(){for(var e,t=document.getElementsByClassName("figure"),n=document.createElement("a"),d=t.length-1;0<=d;d--){for(e=t[d].cloneNode(!0);t[d].firstChild;)t[d].removeChild(t[d].firstChild);t[d].appendChild(e),t[d].className="modalDialog-is-closed";var a=n.cloneNode(!0);a.id="figure-"+d,a.className="figure-button-is-closed",t[d].appendChild(a);var s=document.getElementById("figure-"+d);s.addEventListener("click",methods.figureModalHandler,!1);var l=s.parentNode;l.className="figure-is-closed";for(var o=l.children.length-1;0<=o;o--){var i=l.children[o].tagName;"IMG"===i&&(l.children[o].className="figure-image"),"P"===i&&l.children[o].classList.add("figure-description")}}},populateTheNavMenu:function(){var e,t,n,d,a=methods.countTheSlides();if(1===methods.countTheSlides())(d=document.getElementById("mainNavList").children[0]).id="nav1",d.className="activeNavElement",d.setAttribute("tabindex","-1"),d.innerHTML="1";else{(d=document.getElementById("mainNavList").children[0]).id="nav"+a,d.className="navElement",d.innerHTML=a;for(var s=methods.countTheSlides()-1;0<s;s--)(e=document.createElement("li")).id="nav"+s,e.className=1===s?"activeNavElement":"navElement",e.setAttribute("tabindex","-1"),e.innerHTML=s,t=document.getElementById("mainNavList"),n=document.getElementById("nav"+(s+1)),t.insertBefore(e,n)}},clickScopeTOC:function(){var e,t;"tocClosedState"===(t=this.parentNode.id)&&(e=this.id,methods.openTOC(e)),"tocOpenState"===t&&(e=this.id,methods.closeTOC(e))},closeTOC:function(e){var t=document.getElementById(e).parentNode.id;document.getElementById(t).scrollTop=0,document.getElementById(t).className="TOCs",document.getElementById(t).id="tocClosedState"},openTOC:function(e){var t=document.getElementById(e).parentNode;t.classList.add="is-cleared",t.id="tocOpenState"},traverse:function(e,t){for(var n,d=0;d<t.childNodes.length;d++)e(n=t.childNodes[d]),0<n.childNodes.length&&methods.traverse(e,n)},tocHandler:function(){function t(e,t){var n,d,a,s,l;if(n=Math.round(1e4*Math.random()),t.id=h+"-"+e+"-"+n,t.setAttribute("tabindex","-1"),a=h.substr(5),s="nav"+h.substr(5),d="#"+h+"-"+e+"-"+n,l=t.children[0]?t.children[1].innerHTML:t.innerHTML,m=document.createElement("a"),"H2"===e&&(m.className="toc-link-header",m.innerHTML="<span class='is-dormant'>&mdash;jump to slide:"+h.substr(5)+"&mdash;</span>"+l+"<br>"),"H3"===e&&(m.className="toc-link-subheader",m.innerHTML="<span class='is-dormant'>&mdash;jump to slide:"+h.substr(5)+"&mdash;</span>&ensp;"+l+"<br>"),m.href=d,m.setAttribute("data-destination",h),m.setAttribute("data-destinationNavID",s),m.setAttribute("tabindex","-1"),g===Number(a)){var o;document.getElementById("tocClosedState")&&(o=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(o=document.getElementById("tocOpenState"));var i=document.createElement("li");i.id="slide"+a+"TOC",i.className="TOC",i.innerHTML="<span id='slide"+a+"TocTarget' class='hidden'></span>",u=document.getElementById("theTocTarget"),o.insertBefore(i,u),g++}var c=document.getElementById("slide"+a+"TOC"),r=document.getElementById("slide"+a+"TocTarget");c.insertBefore(m,r)}function e(e){"H2"===e.nodeName&&t("H2",e),"H3"===e.nodeName&&t("H3",e)}var m,u,n,d,a,h,s,g=1;document.getElementById("tocClosedState")&&(s=document.getElementById("tocClosedState")),document.getElementById("tocOpenState")&&(s=document.getElementById("tocOpenState")),s.children[0].id="theTocTarget",s.children[0].className="TOCtargets",s.children[0].style.listStyleType="none",n=methods.countTheSlides();for(var l=0;l<n;l++)d="slide"+(l+1),a=document.getElementById(d),h=a.id,methods.traverse(e,a);document.getElementById("slide1TOC").style.marginTop="45px"},givingAccess:function(){var e,t,n,d,a,s,l,o;if(t=document.getElementsByTagName("body"))for(var i=0;i<t.length;i++)t[i].setAttribute("role","document");if(n=document.getElementsByTagName("form"))for(var c=0;c<n.length;c++)n[c].setAttribute("role","form");if(document.getElementById("mainNav").setAttribute("role","navigation"),document.getElementById("mainNavList").setAttribute("role","navigation"),d=document.getElementsByTagName("moduleHeader"))for(var r=0;r<d.length;r++)d[r].setAttribute("role","banner");if(a=document.getElementsByTagName("img"))for(var m=0;m<a.length;m++)a[m].setAttribute("role","image");if(s=document.getElementsByTagName("ol"))for(var u=0;u<s.length;u++)s[u].setAttribute("role","list");if(l=document.getElementsByTagName("ul"),s)for(var h=0;h<l.length;h++)"mainNavList"!==l[h].id&&l[h].setAttribute("role","list");if(o=document.getElementsByTagName("li"))for(var g=0;g<o.length;g++)"navElement"!==o[g].className&&"activeNavElement"!==o[g].className&&o[g].setAttribute("role","listitem");e=document.getElementsByTagName("a");for(var v=0;v<e.length;v++)if("_blank"===e[v].getAttribute("target")){var N=e[v].getAttribute("href").substr(7);e[v].setAttribute("title","NOTE: This external link will bring you to the following URL: "+N),e[v].classList.add("cel-link-icon")}},countTheSlides:function(){var e;return e=document.getElementsByClassName("slide"),document.getElementsByClassName("activeSlide").length+e.length},navMenu:function(){for(var e=methods.countTheSlides(),t=100/e,n=0;n<e;n++){var d="nav"+(n+1);document.getElementById(d).style.width=t+"%"}},audioButtonHandler:function(){var e,t,n,d,a,s,l,o,i,c;e=this.parentNode;for(var r=0;r<e.children.length;r++)if("audioControls"===e.children[r].className&&(o=(l=e.children[r]||null).children[0].id,n=document.getElementById(o),c=o.substr(15),(d=document.createElement("audio")).controls="yes",d.id="audioSlide"+c,i=document.title,l.insertBefore(d,n),a=document.createElement("source"),s=document.createElement("source"),a.src="media/"+i+"-S"+c+".m4a",a.type="audio/mpeg",s.src="media/"+i+"-S"+c+".ogg",s.type="audio/ogg",d.appendChild(a),d.appendChild(s)),"audioButton"===e.children[r].className){t=e.children[r];for(var m=0;m<e.children.length;m++)"audioControls"===e.children[m].className&&(e.children[m],t.style.height="0px",t.style.width="0px"),"audioButton"===e.children[m].className&&e.children[m]}},helpButtonHandler:function(){var e;"helpboxOpenState"===document.getElementById("helpButton").parentNode.id?((e=document.getElementById("helpboxOpenState")).className="helpBox",e.id="helpboxClosedState"):((e=document.getElementById("helpboxClosedState")).className+=" is-cleared",e.id="helpboxOpenState")},changeTheActualSlide:function(e,t,n,d){var a,s,l,o,i,c,r,m;if(1<e.substr(5)?(document.getElementById("theCourseIcon").style.height="0px",document.getElementById("theCourseIcon").style.width="0px",document.getElementById("courseNumber").style.overflow="hidden",document.getElementById("courseNumber").style.opacity="0",document.getElementById("courseNumber").style.width="0px",document.getElementById("courseNumber").style.height="0px",document.getElementById("moduleNumber").style.opacity="0",document.getElementById("moduleNumber").style.width="0px",document.getElementById("moduleNumber").style.height="0px",document.getElementById("moduleNumber").style.overflow="hidden",document.getElementById("theModuleHeader").style.height="3.25em"):(document.getElementById("theCourseIcon").style.height="100px",document.getElementById("theCourseIcon").style.width="100px",document.getElementById("courseNumber").style.opacity="1",document.getElementById("courseNumber").style.overflow="visible",document.getElementById("courseNumber").style.width="60vw",document.getElementById("courseNumber").style.height="auto",document.getElementById("moduleNumber").style.opacity="1",document.getElementById("moduleNumber").style.overflow="visible",document.getElementById("moduleNumber").style.width="70%",document.getElementById("moduleNumber").style.height="auto",document.getElementById("theModuleHeader").style.height="auto"),m="theTocTarget","tocOpenState"===document.getElementById(m).parentNode.id&&methods.closeTOC(m),0<(r=document.getElementsByTagName("audio")).length)for(var u=0;u<r.length;u++)r[u].pause();document.getElementById(e).focus(),a=document.getElementById(d),document.getElementById("skipToContentLink").href="#"+e,window.location.hash="#"+e;for(var h=0;h<a.children.length;h++)"slideHeader is-cleared"!==(i=a.children[h].className)&&"futureSlideHeader is-cleared"!==i||(a.children[h].className="pastSlideHeader is-cleared");document.getElementById(n).className="pastNavElement",(c=document.getElementById(e)).className="activeSlide";for(var g=0;g<c.children.length;g++)"futureSlideHeader is-cleared"===(o=c.children[g].className)&&(c.children[g].className="slideHeader is-cleared"),"slideContent"===o&&(c.children[g].className="activeSlideContent"),"slideFooter"===o&&(c.children[g].className="activeSlideFooter"),"audioBox"===o&&(c.children[g].className="activeAudioBox");document.getElementById(t).className="activeNavElement";for(var v=0;v<methods.countTheSlides();v++)if((s=document.getElementById("slide"+(v+1)).id)!==e){(l=document.getElementById(s)).className="slide";for(var N=0;N<l.children.length;N++)switch(l.children[N].className){case"pastSlideHeader is-cleared":case"futureSlideHeader is-cleared":break;case"activeSlideContent":l.children[N].className="slideContent";break;case"activeSlideFooter":l.children[N].className="slideFooter";break;case"activeAudioBox":l.children[N].className="audioBox"}}},ascertainScope:function(e,t){var n,d,a,s,l,o;switch(l="nav"+(o=document.getElementsByClassName("activeSlide")[0].id).substr(5),e){case"next":(a=Number(o.substr(5)))+1>methods.countTheSlides()?(s="slide1",d="nav1"):(s="slide"+(a+1),d="nav"+(a+1)),methods.changeTheActualSlide(s,d,l,o);break;case"prev":(a=Number(o.substr(5)))-1==0?(s="slide1",d="nav1",alert(" You must be mistaken...There is nothing previous to the first slide")):(s="slide"+(a-1),d="nav"+(a-1)),methods.changeTheActualSlide(s,d,l,o);break;case"nextButton":s="slide"+((n=Number(t.substr(5)))+1),d="nav"+(n+1),methods.changeTheActualSlide(s,d,l,o);break;case"prevButton":s="slide"+((n=Number(t.substr(5)))-1),d="nav"+(n-1),methods.changeTheActualSlide(s,d,l,o);break;case"navElement":s="slide"+(n=Number(t.substr(3))),d=t,document.getElementById(s).focus(),methods.changeTheActualSlide(s,d,l,o);break;case"slideHeader":s="slide"+(n=Number(t.substr(5))),d="nav"+n,methods.changeTheActualSlide(s,d,l,o);break;case"tableOfContentsLink":s="slide"+(n=Number(t.substr(5))),d="nav"+n,methods.changeTheActualSlide(s,d,l,o),document.getElementById(s).focus()}},whichInput:function(e){return"toc-link-header"!==this.className&&"toc-link-subheader"!==this.className||methods.ascertainScope("tableOfContentsLink",this.getAttribute("data-destination")),"nextButton"===this.className&&methods.ascertainScope("nextButton",this.parentNode.parentNode.parentNode.id),"prevButton"===this.className&&methods.ascertainScope("prevButton",this.parentNode.parentNode.parentNode.id),"navElement"!==this.className&&"activeNavElement"!==this.className&&"pastNavElement"!==this.className||methods.ascertainScope("navElement",this.id),"slideHeader is-cleared"!==this.className&&"pastSlideHeader is-cleared"!==this.className&&"futureSlideHeader is-cleared"!==this.className||methods.ascertainScope("slideHeader",this.parentNode.id),78===e.keyCode&&methods.ascertainScope("next",null),80===e.keyCode&&methods.ascertainScope("prev",null),e.keyCode,null},renderTheAudioButtons:function(){var e,t,n,d,a,s,l,o,i;e=document.getElementsByTagName("section");for(var c=0;c<e.length;c++)if(("slide"===e[c].className||"activeSlide"===e[c].className)&&"yes"===e[c].getAttribute("data-hasAudioPlayer")){i=document.getElementById(e[c].id);for(var r=0;r<i.children.length;r++)"slideFooter"!==i.children[r].className&&"activeSlideFooter"!==i.children[r].className||"nextPrevious"===(n=i.children[r]).children[0].className&&(t=n.children[0]);d=document.createElement("section"),"slide1"===n.id?d.className="activeAudioBox":d.className="audioBox",(a=document.createElement("div")).className="audioButton",(s=document.createElement("div")).className="audioControls",l=document.createElement("span"),o=i.id.substr(5),l.id="audioLandingPad"+o,s.appendChild(l),d.appendChild(a),d.appendChild(s),n.insertBefore(d,t)}},main:function(){var e,t,n,d,a,s,l,o;methods.populateTheNavMenu(),e=document.getElementsByClassName("slideHeader is-cleared");for(var i=0;i<e.length;i++)e[i].addEventListener("click",methods.whichInput,!1);t=document.getElementsByClassName("futureSlideHeader is-cleared");for(var c=0;c<t.length;c++)t[c].addEventListener("click",methods.whichInput,!1);s=document.getElementsByClassName("navElement");for(var r=0;r<s.length;r++)s[r].addEventListener("click",methods.whichInput,!1);document.getElementsByClassName("activeNavElement")[0].addEventListener("click",methods.whichInput,!1),a=document.getElementsByClassName("nextButton");for(var m=0;m<a.length-1;m++)a[m].addEventListener("click",methods.whichInput,!1);d=document.getElementsByClassName("prevButton");for(var u=0;u<d.length;u++)d[u].addEventListener("click",methods.whichInput,!1);n=document.getElementsByClassName("audioButton"),document.addEventListener("keyup",methods.whichInput,!1),document.getElementById("helpButton").addEventListener("click",methods.helpButtonHandler,!1),methods.renderTheAudioButtons();for(var h=0;h<n.length;h++)n[h].addEventListener("click",methods.audioButtonHandler,!1);methods.givingAccess(),methods.tocHandler(),document.getElementById("theTocTarget").addEventListener("click",methods.clickScopeTOC,!1),l=document.getElementsByClassName("toc-link-header");for(var g=0;g<l.length;g++)l[g].addEventListener("click",methods.whichInput,!1);o=document.getElementsByClassName("toc-link-subheader");for(var v=0;v<o.length;v++)o[v].addEventListener("click",methods.whichInput,!1);methods.navMenu(),methods.figureButtonInsertion(),document.getElementById("skipToContentLink").addEventListener("click",methods.focusAllTheThings,!1),document.getElementById("skipToIndexLink").addEventListener("click",methods.focusAllTheThings,!1),methods.yellowFlash(),methods.addDropCaps()}};window.onload=methods.main();